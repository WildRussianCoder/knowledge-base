# Препроцессор NASM

**Макрос - это символическое имя, заменяющее несколько команд языка ассемблера. Команды подставляются вместо имени макроса во время компиляции.** 

Директивы объявления макроса начинаются со знака процента "%". Имена макросов чувствительны к регистру. Для определения нечувствительных к регистру макросов нужно использовать другие директивы, которые начинаются с "%i".

## Однострочные макросы - %define, %undef

	%define average(a,b) (((a) + (b))/2)
	%define SEC_IN_MIN 60
	%define USE_DEBUG

Так же, как и в С, мы можем проверить, определен ли макрос, с помощью %ifdef (определен) и %ifndef (не определен). Удалить определение макроса можно с помощью %undef.

## Сложные макросы - %macro, %endmacro

	%macro substract 3
	sub %1, %2
	sub %1, %3
	%endmacro

## Объявление макроса - %assign

	%assign i i+1

## Условная компиляция - %if

	%if<условие> 
	...
	%elif<условие>
	...
	%else
	...
	%endif

## Вставка файла - %include

	%include "macro.mac"
