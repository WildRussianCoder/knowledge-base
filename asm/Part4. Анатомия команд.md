# Анатомия команд

## Архитектуры процессоров по набору команд

**Команда микропроцессора - это команда, которая выполняет требуемое действие над данными или изменяет внутреннее состояние процессора.**

Архитектуры процессоров:
* RISC - ограниченный набор команд и очень высокая скорость
* CISC - большой набор команд, но меньшая скорость

Все x86-совместимые процессоры принадлежат к архитектуре RISC.

## Операнды

**Данные, которые обрабатываются командами, называются операндами. Операнды в ЯА записываются непосредственно после команды; если их несколько, то через запятую. Одни команды вообще не имеют никаких операндов, другие имеют один или два операнда.**

В документации по ЯА различные форматы операндов представлены следующими аббревиатурами:
* **reg8** - любой 8-разрядный РОН;
* **reg16** - любой 16-разрядный РОН;
* **reg32** - любой 32-разрядный РОН;
* **m** - операнд может находиться в памяти;
* **imm8** - непосредственное 8-разрядное значение;
* **imm16** - непосредственное 16-разрядное значение;
* **imm32** - непосредственное 32-разрядное значение;
* **segreg** - операнд должен быть сегментным регистром;

## Адресация памяти

Адрес, как и сама команда, - это число. Чтобы не запоминать адреса всех "переменных", используемых в программе, этим адресам присваивают символические обозначения, которые называются переменными (иногда их также называют указателями).

При использовании косвенного операнда адрес в памяти, по которому находится нужное значение, записывается в квадратных скобках: \[адрес\]. 

Теперь рассмотримм фрагмент программы, в которой регистр ESI содержит адрес первого элемента в массиве байт. Чтобу получить доступ ко второму элементу массива, адрес которого на 1 байт больше, необходимо записать \[ESI + 1\].

Имеются даже более сложные типы адресации: \[адрес + EBX + 4\]. В этом случае процессор складывает *адрес*, значение *4* и значение, содержащееся в регистре EBX. Результат этого выражения называется эффективным адресом (EA, Effective Address) и используется в качестве адреса, по которому фактически находится операнд. При вычислении эффективного адреса процессор 80386 также позволяет умножать один член выражения на константу, являющуюся степенью двойки: \[адрес + EBX * 4\]. Корректным считается даже следующее "сумасшедшее" выражение:   
\[число - 6 + EBX * 8 + ESI\]

Каждый способ адресации предполагает, что при вычислении реального (фактического) адреса используется сегментный регистр по умолчанию. Сменить сегментный регистр можно так:   
ES:\[ESI\]

## Команды языка ассемблера

Общий формат команды:  
**имя_команды \[подсказка\] операнды ; комментарий**

Необязательная подсказка указывает компилятору требуемый размер операнда. ЕЕ значение может быть слово BYTE, WORD или DWORD.

