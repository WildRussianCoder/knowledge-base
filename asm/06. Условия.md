# Условия

## Команды CMP и TEST

    CMP o1, o2
    TEST o1, o2
    
Команда CMP - это сокращение от "compare", "сравнить". Она работает подобно SUB: операнд o2 вычитается из o1. Результат не сохраняется, команда просто изменяет регистр флагов.

Команда TEST работает подобно CMP, но вместо вычитания она вычисляет поразрядное И операндов. Результат - измененные флаги. Можно использовать TEST для проверки значений отдельных битов в маске.

## Команда JMP

    JMP [тип_перехода] операнд
    
Команда JMP - аналог конструкции goto в си.

В зависимости от "расстояния" переходы бывают трех типов: короткие (short), ближние (near) и дальние (far). Тип перехода задается необязательным параметром инструкции jmp. Если тип не задан, по умолчанию используется тип near.

 Максимальная длина короткого перехода ограничена. Второй байт инструкции содержит только 8-разрядное значение, поэтому целевой адрес может быть в пределах от -128 до +127 байтов. При переходе выполняется знаковое расширение 8 разрядного значение и его добавление к текущему значению E(IP).
 
 Длина ближнего перехода зависит только од режима процессора. В реальном режиме меняется только значение IP, поэтому мы можем перемещаться только в пределах одного сегмента (то есть в предеах 64кб); в защищенном режиме используется EIP, поэтому целевой адрес может быть где угодно в пределах 4 Гб адресного пространства.
 
 Переход far модифицирует кроме IP еще и сегментный регистр CS, который используется при вычислении фактического адреса памяти. Поэтому команда перехода должна содержать новое значение CS.
 
 ## Условные переходы - Jx
 
    Jx метка_назначения

**Беззнаковые числа**

| УСЛОВИЕ | КОМАНДА     | 
|:-------:|:-----------:|
| o1==o2  | JE (JZ)     |
| o1!=o2  | JNE (JNZ)   |
| o1>o2   | JA (JNBE)   |
| o1<o2   | JB (JNAE)   |
| o1<=o2  | JNA (JBE)   |
| o1>=o2  | JNB (JAE)   |


**Знаковые числа**

| УСЛОВИЕ | КОМАНДА     | 
|:-------:|:-----------:|
| o1==o2  | JE (JZ)     |
| o1!=o2  | JNE (JNZ)   |
| o1>o2   | JG (JNLE)   |
| o1<o2   | JL (JNGE)   |
| o1<=o2  | JNG (JLE)   |
| o1>=o2  | JNL (JGE)   |

Адрес назначения команды условного перехода должен лежать в пределах 128 байтов.