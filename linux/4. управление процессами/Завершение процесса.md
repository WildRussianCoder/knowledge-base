# Завершение процесса

POSIX и C89 определяют следующую стандартную функцию для завершения текущего процесса:

    #include <stdlib.h>
    
    void exit(int status);
    
Вызов `exit()` выполняет некоторые основные шаги перед завершением, а затем отправляет ядру команду прекратить процесс. Эта функция не может вернуть ошибку.

Перед тем как прервать процесс, библиотека C выполняет подготовительные шаги в следующем порядке:
1. Вызов всех функций, зарегистрированных с `atexit()` или `on_exit()`, в порядке, обратном порядку регистрации.
2. Сброс всех стандартных потоков ввода-вывода.
3. Удаление всех временных файлов, созданных функцией `tmpfile()`.

Эти шаги завершают всю работу, которую процесс должен проделать в пользовательском пространстве, после чего `exit()` выполняет системный вызов `_exit()`, позволяющий ядру обработать оставшуюся часть завершения процесса:

    #include <unistd.h>
    
    void _exit(int status);
