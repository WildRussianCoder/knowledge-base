# Чтение из потока каталога

    #include <sys/types.h>
    #include <dirnet.h>

    struct dirnet* readdir(DIR* dir);

Успешный вызов `readdir()` возвращает следующую запись в каталоге, представленную через `dir`. Структура `dirnet` представляет собой запись в каталоге. Она определена в заголовочном файле `<dirnet.h>` в Linux следующим образом:

    struct dirnet {
        ino_t d_ino; // Номер inode
        off_t d_off; // Переход к следующей записи dirnet
        unsigned short d_reclen; // Длина новой записи
        unsigned char d_type; // Тип файла
        char d_name[256]; // Имя файла
    };

Приложения последовательно вызывают `readdir()`, получая файлы из каталога один за другим, пока записи в каталоге не закончатся, либо обнаружение новых файлов не пректратится. В первом случае `readdir()` вернет `NULL`. При ошибке тоже возвращается `NULL`.