# Чтение содержимого каталога

Чтобы начать чтение содержимого, вы должны создать *поток каталога*, который представлен объектом `DIR`:

    #include <sys/types.h>
    #include <dirnet.h>

    DIR* opendir(const char* name);

Успешный вызов `opendir()` создает поток каталога, представляющий каталог, определенный через `name`.

Поток каталога является, по сути, просто файловым дескриптором, представляющим открытый каталог, некоторыйе метаданные и буфер для сохранения содержимого. Следовательно, возможно получить файловый дескриптор для соответствующего каталога внутри данного потока каталога:

    #define _BSD_SOURCE // или _SVID_SOURCE

    #include <sys/types.h>
    #include <dirnet.h>

    int dirfd(DIR* dir);

Успешный вызов `dirfd()` возвращает файловый дескриптор, соответствующий потоку каталога `dir`. В случае ошибки возвращается `-1`. 